NLquery_id,NLquery,LLM_model_name,prompt,LLM_returned_SQL_id,LLM_returned_SQL_query,SQL_correct,error_invalid_query,error_incorrect_table,error_incorrect_column,error_incorrect_logic,error_incorrect_join,error_missing_condition,error_extra_condition,error_other,
1,"For each Internet Service (sid), find the most frequently used version among all Base Models that utilize it.","Claude","Translate this natural language query into a single MySQL SELECT statement: 'For each Internet Service (sid), find the most frequently used version among all Base Models that utilize it.' Assume there is a table BaseModelUtilization(bmid, sid, version). Return only sid and version. If multiple versions tie for the maximum frequency for the same sid, it is acceptable to return any one of them.",1,"SELECT sid, version FROM ( SELECT sid, version, COUNT(*) as freq, ROW_NUMBER() OVER (PARTITION BY sid ORDER BY COUNT(*) DESC) as rn FROM BaseModelUtilization GROUP BY sid, version ) AS ranked WHERE rn = 1",False,False,False,False,True,False,True,False
1,"For each Internet Service (sid), find the most frequently used version among all Base Models that utilize it.","Claude","You are helping with an NL2SQL task. Here is the relevant schema: BaseModelUtilization(bmid INT, sid INT, version INT); Write a MySQL query that: for each Internet Service (sid), finds the most frequently used version among all Base Models that utilize it. Return one row per sid, with columns sid and version. If multiple versions tie for maximum frequency for a given sid, it is fine to return any one of them.",2,"SELECT sid, version FROM ( SELECT sid, version, ROW_NUMBER() OVER (PARTITION BY sid ORDER BY COUNT(*) DESC) as rn FROM BaseModelUtilization GROUP BY sid, version ) AS ranked WHERE rn = 1",False,False,False,False,True,False,True,False
1,"For each Internet Service (sid), find the most frequently used version among all Base Models that utilize it.","Claude","We have a MySQL table: BaseModelUtilization(bmid INT, sid INT, version INT); Task: For each sid, find the version that appears most frequently in BaseModelUtilization. Write a MySQL query that: - groups by sid and version, - counts how many times each version appears for each sid, - picks the version with the highest count per sid, - returns columns sid and version. Use standard MySQL syntax.",3,"SELECT sid, version FROM ( SELECT sid, version, COUNT(*) as cnt, RANK() OVER (PARTITION BY sid ORDER BY COUNT(*) DESC) as rnk FROM BaseModelUtilization GROUP BY sid, version ) AS ranked WHERE rnk = 1",False,False,False,False,True,False,True,False
2,"Find all the Internet Service (sid) that are utilized by every Base Model built by the agent creator user_iuwrh.","Claude","Translate this NL query into MySQL: 'Find all the Internet Service (sid) that are utilized by every Base Model built by the agent creator user_iuwrh.' You can assume: - User(uid, username, email) - AgentCreator(uid) references User(uid) - BaseModel(bmid, uid) where uid references AgentCreator(uid) - BaseModelUtilization(bmid, sid, version) references BaseModel(bmid) and InternetService(sid) Use User.username = 'user_iuwrh' to identify the creator. Return distinct sid values.",1,"SELECT bmu.sid FROM BaseModelUtilization bmu JOIN BaseModel bm ON bmu.bmid = bm.bmid JOIN AgentCreator ac ON bm.uid = ac.uid JOIN User u ON ac.uid = u.uid WHERE u.username = 'user_iuwrh' GROUP BY bmu.sid HAVING COUNT(DISTINCT bmu.bmid) = ( SELECT COUNT(DISTINCT bm2.bmid) FROM BaseModel bm2 JOIN AgentCreator ac2 ON bm2.uid = ac2.uid JOIN User u2 ON ac2.uid = u2.uid WHERE u2.username = 'user_iuwrh' )",False,False,False,False,True,False,True,False
2,"Find all the Internet Service (sid) that are utilized by every Base Model built by the agent creator user_iuwrh.","Claude","We have these tables in MySQL: User(uid INT PRIMARY KEY, username VARCHAR(255), email VARCHAR(255)); AgentCreator(uid INT PRIMARY KEY, FOREIGN KEY (uid) REFERENCES User(uid)); BaseModel(bmid INT PRIMARY KEY, uid INT, FOREIGN KEY (uid) REFERENCES AgentCreator(uid)); BaseModelUtilization(bmid INT, sid INT, version INT); The task: Find all sid values such that the corresponding Internet Service is utilized by every BaseModel created by the agent creator whose username is 'user_iuwrh'. Write a MySQL query that: - finds all BaseModels whose creator has username = 'user_iuwrh' - finds all sid that appear in BaseModelUtilization for all of those BaseModels - returns sid only.",2,"SELECT sid FROM BaseModelUtilization bmu WHERE bmu.bmid IN ( SELECT bm.bmid FROM BaseModel bm JOIN AgentCreator ac ON bm.uid = ac.uid JOIN User u ON ac.uid = u.uid WHERE u.username = 'user_iuwrh' ) GROUP BY sid HAVING COUNT(DISTINCT bmu.bmid) = ( SELECT COUNT(DISTINCT bm.bmid) FROM BaseModel bm JOIN AgentCreator ac ON bm.uid = ac.uid JOIN User u ON ac.uid = u.uid WHERE u.username = 'user_iuwrh' )",False,False,False,False,True,False,True,False
3,"Find all customized models (mid) that do not appear in model configurations.","Claude","Translate this NL query into MySQL: 'Find all customized models (mid) that do not appear in model configurations.' Assume we have: CustomizedModel(mid INT, bmid INT); ModelConfiguration(cid INT, uid INT, mid INT, label VARCHAR(255), content TEXT, duration INT); Return all mid from CustomizedModel that never appear in ModelConfiguration.mid.",1,"SELECT cm.mid FROM CustomizedModel cm LEFT JOIN ModelConfiguration mc ON cm.mid = mc.mid WHERE mc.mid IS NULL",False,False,False,False,True,False,False,False
3,"Find all customized models (mid) that do not appear in model configurations.","Claude","We have two tables: CustomizedModel(mid INT PRIMARY KEY, bmid INT); ModelConfiguration(cid INT PRIMARY KEY, uid INT, mid INT, label VARCHAR(255), content TEXT, duration INT); Write a MySQL query that returns the IDs mid of all customized models that are not used in any model configuration. Use a LEFT JOIN and check for NULLs in ModelConfiguration.",2,"SELECT cm.mid FROM CustomizedModel cm LEFT JOIN ModelConfiguration mc ON cm.mid = mc.mid WHERE mc.mid IS NULL",False,False,False,False,True,False,False,False
3,"Find all customized models (mid) that do not appear in model configurations.","Claude","With tables: CustomizedModel(mid, bmid) ModelConfiguration(cid, uid, mid, label, content, duration) Write a MySQL query using NOT IN to get all mid from CustomizedModel whose mid does not appear in ModelConfiguration.mid. Return only the column mid.",3,"SELECT mid FROM CustomizedModel WHERE mid NOT IN ( SELECT mid FROM ModelConfiguration WHERE mid IS NOT NULL )",False,False,False,False,True,False,False,False
